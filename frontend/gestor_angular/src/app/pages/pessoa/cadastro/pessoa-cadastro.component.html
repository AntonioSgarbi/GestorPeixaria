<body>
<div class="container pt-1">
  <mat-card class="mat-elevation-z10" class="height-card">
    <div class="d-flex mt-3 justify-content-center">
    <mat-card-title>Cadastro de Pessoa</mat-card-title>
    </div>
    <form [formGroup]="formulario">
      <div class="container pt-5 d-grid">
        <mat-form-field appearance="{{aparencia}}">
          <mat-label>Tipo de cadasto</mat-label>
          <mat-select formControlName="tipoCadastro">
            <mat-option *ngFor="let item of tipoCadastro | keyvalue" [value]="item.key">
              {{item.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="{{aparencia}}">
          <mat-label>Nome</mat-label>
          <input autofocus matInput type="text" formControlName="nome">
        </mat-form-field>
        <mat-form-field appearance="{{aparencia}}">
          <mat-label>E-mail</mat-label>
          <input matInput type="email" formControlName="email">
        </mat-form-field>

        <mat-form-field appearance="{{aparencia}}">
          <mat-label>Tipo de Pessoa</mat-label>
          <mat-select formControlName="tipoPessoa">
            <mat-option *ngFor="let item of tipoPessoa | keyvalue" [value]="item.key">
              {{item.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="{{aparencia}}">
          <mat-label>Documento</mat-label>
          <input matInput mask="{{mascaraDocumento()}}"formControlName="documento" placeholder="{{placeholderDocumento()}}">
        </mat-form-field>
        <mat-form-field appearance="{{aparencia}}" *ngIf="isPessoaFisica()">
          <mat-label>Data de Nascimento</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="dataNascimento">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div>
        <div *ngFor="let telefone of telefones; let i = index;" formArrayName="telefones">
          <mat-form-field appearance="{{aparencia}}" class="col-12">
            <mat-label>Telefone</mat-label>
            <mat-icon matPrefix>phone</mat-icon>
            <input matInput formControlName="{{i}}">
            <mat-icon matSuffix class="btn-danger" (click)="removeTelefone(i)">remove</mat-icon>
          </mat-form-field>
        </div>
        <div class="d-flex justify-content-center">
          <button class="btn-outline-info col-8" mat-raised-button (click)="addTelefone()">Adicionar telefone</button>
        </div>
      </div>
      <div class="d-flex mt-5 justify-content-around">
        <button mat-raised-button class="btn-outline-danger col-5" (click)="limparFormulario()">Limpar</button>
        <button mat-raised-button class="btn-outline-success col-5" (click)="cadastrar()">Cadastrar</button>
      </div>
    </form>
  </mat-card>
</div>
</body>
